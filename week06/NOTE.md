# 每周总结可以写在这里

————————————20200514——————————————

## 1、有限状态机
- 每一个状态都是一个机器
    - 在每一个机器里，我们可以做计算、存储、输出
    - 所有的这些机器接受的输入是一致的
    - 状态机的每一个机器本身没有状态，如果我们用函数来表示的话，它应该是纯函数（无副作用）。纯函数的意思是不依赖外部环境发生变化。
- 每一个机器知道下一个状态
    - 每个机器知道下一个状态（Moore型状态机）
    - 每个机器根据输入决定下一个状态（Mealy型状态机） 比较常用


## 2、使用有限状态机处理字符串

  ### js中有限状态机（Mealy模式状态机）
    Mealy & Moore 区别
    Mealy-返回值是根据输入改变的
    Moore-返回值是写死的
   
# html 解析
  ## 第一步 拆分文件 
  - 为了方便文件管理，把parser单独拆到文件中
  - parser接受HTML文本作为参数，返回一颗DOM树
  
  ## 第二部 创建状态机
  
  ## 第三步 解析标签
  - 主要的标签有：开始标签、结束标签、自封闭标签
  - 在这一步我们暂时忽略属性
  
  ## 第四步 创建元素
  - 在状态机中，除了状态迁移，还要加入业务逻辑
  - 在标签结束状态提交标签token
  
  ## 第五步 处理属性
  - 属性值分为双引号、单引号、无引号三种写法，因此需要较多状态处理
  - 处理属性的方式跟标签类似
  - 属性结束时，把属性加到标签Token上
  
  ## 第六步 栈
  ### 标签转元素
  ### 入栈&出栈， 先入后出，后入先出
  - 从标签构建DOM树的基本技巧是使用栈
  - 遇到开始标签时创建元素并入栈，遇到结束标签是时出栈
  - 自封闭节点可视为入栈后立刻出栈
  - 任何元素的父元素时它入栈前的栈顶

  ## 第七步 处理文本节点
  - 文本节点与自封闭标签处理类似
  - 多个文本系欸但那需要合并
  
  
————————————————————————————————————————
### 作业：
  - 1、使用状态机完成 "abababx" 的处理
  - 2、完成dom树
### 可选作业：
  - 1、如何用状态机处理完全未知的pattern ? 参考资料：字符串KMP算法 —— wiki百科
  - 2、实现复合选择器，实现支持空格的 Class 选择器（选做）
  
  
  
————————————20200516——————————————

